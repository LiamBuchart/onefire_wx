const t={name:"windy-plugin-wildfire-perimeters",version:"0.1.0",icon:"ðŸ”¥",title:"Canada Wildfire Perimeters",description:"Overlay for wildfire perimeters from the Canadian Wildland Fire Information System (CWFIS)",author:"Liam Buchart (UBC)",repository:"https://github.com/LiamBuchart/onefire_wx",desktopUI:"embedded",mobileUI:"small",routerPath:"/canfire-perimeters",built:1750740566437,builtReadable:"2025-06-24T04:49:26.437Z"},e=W.store,{map:n}=W.map;function o(){}function r(t){return t()}function i(){return Object.create(null)}function c(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function u(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=p("style");t.id=e,t.textContent=n,function(t,e){l(t.head||t,e),e.sheet}(o,t)}}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}let y;function v(t){y=t}function _(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_destroy.push(t)}const b=[],w=[];let x=[];const C=[],z=Promise.resolve();let k=!1;function E(t){x.push(t)}const S=new Set;let P=0;function A(){if(0!==P)return;const t=y;do{try{for(;P<b.length;){const t=b[P];P++,v(t),N(t.$$)}}catch(t){throw b.length=0,P=0,t}for(v(null),b.length=0,P=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];S.has(e)||(S.add(e),e())}x.length=0}while(b.length);for(;C.length;)C.pop()();k=!1,S.clear(),v(t)}function N(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const I=new Set;function O(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach(o=>-1===t.indexOf(o)?e.push(o):n.push(o)),n.forEach(t=>t()),x=e}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(b.push(t),k||(k=!0,z.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,n,a,l,u,f=null,p=[-1]){const m=y;v(t);const h=t.$$={fragment:null,ctx:[],props:u,update:o,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:i(),dirty:p,skip_bound:!1,root:e.target||m.$$.root};f&&f(h.root);let g=!1;if(h.ctx=n?n(t,e.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),g&&j(t,e)),n}):[],h.update(),g=!0,c(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(d)}else h.fragment&&h.fragment.c();e.intro&&(($=t.$$.fragment)&&$.i&&(I.delete($),$.i(_))),function(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),E(()=>{const e=t.$$.on_mount.map(r).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):c(e),t.$$.on_mount=[]}),i.forEach(E)}(t,e.target,e.anchor),A()}var $,_;v(m)}class T{$$=void 0;$$set=void 0;$destroy(){O(this,1),this.$destroy=o}$on(t,e){if(!s(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const U=t=>{const e=t.split("_"),n=e.pop();return`${n&&(t=>{const e=127397,n=t.codePointAt(0),o=t.codePointAt(1);return String.fromCodePoint(n+e)+String.fromCodePoint(o+e)})(n.toUpperCase())} ${e.map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}`},F=[{name:"canada_ca",bounds:[[[40,-136],[68.9703832,-51]]]}].map(t=>{return{...t,cc:(e=t.name,e.split("_").pop()),title:U(t.name)};var e});function M(t){u(t,"svelte-1a6fozg","small.svelte-1a6fozg{display:block;line-height:1.5}select.svelte-1a6fozg:focus{outline:none}")}function R(t,e,n){const o=t.slice();o[7]=e[n];const r=o[7];return o[8]=r.cc,o[9]=r.title,o}function q(t){let e;return{c(){var n,o;e=p("option"),e.textContent=`${t[9]} `,e.__value=t[8],n=e,o=e.__value,n.value=null==o?"":o},m(t,n){f(t,e,n)},p:o,d(t){t&&d(e)}}}function D(t){let e,n,o;return{c(){e=p("small"),n=m("Error: "),o=m(t[1]),g(e,"class","rounded-box bg-error size-s mt-10 svelte-1a6fozg")},m(t,r){f(t,e,r),l(e,n),l(e,o)},p(t,e){2&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(o,t[1])},d(t){t&&d(e)}}}function H(t){let e,n,r;return{c(){e=p("small"),e.innerHTML="Plot latest wildfire perimeters for a specified country.\n         <b>These are estimated</b> by satellite and should only be used for informational purposes.",n=h(),r=p("small"),r.innerHTML='Canadian Perimeters Provided by <a href="https://cwfis.cfs.nrcan.gc.ca/downloads/hotspots/perimeters" class="clickable dotted" target="_top">CWFIS</a>',g(e,"class","size-xs mt-10 svelte-1a6fozg"),g(r,"class","size-xxs mt-5 svelte-1a6fozg")},m(t,o){f(t,e,o),f(t,n,o),f(t,r,o)},p:o,d(t){t&&(d(e),d(n),d(r))}}}function G(t){let e,n,r,i,c,s,a,l=(u=F,void 0!==u?.length?u:Array.from(u));var u;let y=[];for(let e=0;e<l.length;e+=1)y[e]=q(R(t,l,e));function v(t,e){return t[1]?D:H}let _=v(t),b=_(t);return{c(){e=p("div"),e.textContent="Select a country:",n=h(),r=p("select");for(let t=0;t<y.length;t+=1)y[t].c();i=h(),b.c(),c=m(""),g(e,"class","size-s mb-5"),g(r,"class","svelte-1a6fozg"),void 0===t[0]&&E(()=>t[2].call(r))},m(o,l){f(o,e,l),f(o,n,l),f(o,r,l);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(r,null);var u,d,p,m;$(r,t[0],!0),f(o,i,l),b.m(o,l),f(o,c,l),s||(u=r,d="change",p=t[2],u.addEventListener(d,p,m),a=()=>u.removeEventListener(d,p,m),s=!0)},p(t,[e]){1&e&&$(r,t[0]),_===(_=v(t))&&b?b.p(t,e):(b.d(1),b=_(t),b&&(b.c(),b.m(c.parentNode,c)))},i:o,o:o,d(t){t&&(d(e),d(n),d(r),d(i),d(c)),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(y,t),b.d(t),s=!1,a()}}}function J(t,o,r){const i=e.get("country");let c=F.some(t=>t.cc===i)?i:"cz",s=null,a=null;return _(()=>{a&&a.remove()}),t.$$.update=()=>{1&t.$$.dirty&&(async t=>{r(1,s=null);const e=F.find(e=>e.cc===t);if(!e)return;const{name:o,bounds:i}=e;try{const t=await fetch("./Canada_perimeters.geojson"),e=await t.json();a&&a.remove(),a=new L.GeoJSON(e,{style:{color:"#76f5f7",weight:1,opacity:.7,fillOpacity:.2,fillColor:"transparent"}}),n.addLayer(a),n.fitBounds(i[0])}catch(t){r(1,s=t)}})(c)},[c,s,function(){c=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),r(0,c)}]}class Z extends T{constructor(t){super(),B(this,t,J,G,a,{},M)}}export{t as __pluginConfig,Z as default};
